<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Metacat</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main class="popup">
      <header class="hero">
        <button id="themeToggle" class="theme-toggle" type="button" aria-label="Toggle dark mode">
          <span class="theme-icon" aria-hidden="true">ðŸŒ™</span>
        </button>
        <div class="hero-heading">
          <img class="hero-icon" src="../assets/icons/spacecat128.png" alt="Cat logo" />
          <h1 class="hero-title">Metacat</h1>
          
        </div>
        <p>Get fast stats from current page.</p>
      </header>
      <nav class="tabs" role="tablist" aria-label="SEO panels">
        <button
          class="tab active"
          id="seo-tab"
          type="button"
          role="tab"
          aria-selected="true"
          aria-controls="results"
          data-tab="seo"
        >
          <span>SEO</span>
        </button>
        <button
          class="tab"
          id="analytics-tab"
          type="button"
          role="tab"
          aria-selected="false"
          aria-controls="analyticsPanel"
          data-tab="analytics"
        >
          <span>Analytics</span>
          <span class="tab-indicator" id="analyticsIndicator" aria-hidden="true"></span>
        </button>
        <button
          class="tab"
          id="opengraph-tab"
          type="button"
          role="tab"
          aria-selected="false"
          aria-controls="openGraphPanel"
          data-tab="opengraph"
        >
          <span>OG</span>
        </button>
        <button
          class="tab"
          id="cms-tab"
          type="button"
          role="tab"
          aria-selected="false"
          aria-controls="cmsPanel"
          data-tab="cms"
        >
          <span>CMS</span>
        </button>
      </nav>
      <section id="status" class="status muted">Collecting data for this tab...</section>
      <section id="results" class="results tab-panel" data-panel="seo" hidden role="tabpanel" aria-labelledby="seo-tab">
        <div class="card highlight" id="titleCard" data-accent="true">
          <div class="card-header">
            <span class="label">Title</span>
            <span class="counter" id="titleCount">0</span>
          </div>
          <p id="title" class="value">N/A</p>
        </div>
        <div class="card highlight" id="descriptionCard" data-accent="true">
          <div class="card-header">
            <span class="label">Meta description</span>
            <span class="counter" id="descriptionCount">0</span>
          </div>
          <p id="description" class="value">N/A</p>
        </div>
        <div class="card" id="robotsCard">
          <div class="card-header">
            <span class="label">Robots</span>
          </div>
          <a id="robotsLink" class="value-link" href="#" target="_blank" rel="noopener noreferrer">N/A</a>
        </div>
        <div class="card" id="canonicalsCard">
          <div class="card-header">
            <span class="label">Canonical URLs</span>
          </div>
          <ul id="canonicals" class="list"></ul>
        </div>
        <div class="card" id="hrefLangCard">
          <div class="card-header">
            <span class="label">Hreflang</span>
          </div>
          <ul id="hrefLangList" class="list"></ul>
        </div>
        <div class="card" id="structuredDataCard">
          <div class="card-header">
            <span class="label">Structured Data</span>
          </div>
          <div id="structuredDataContainer" class="structured-data-container"></div>
        </div>
        <div class="card" id="linksCard">
          <div class="card-header">
            <span class="label">Links</span>
            <span class="counter" id="linksTotal">0</span>
          </div>
          <div class="link-summary">
            <span id="linksInternal" class="link-pill">Internal: 0</span>
            <span id="linksExternal" class="link-pill">External: 0</span>
          </div>
        </div>
        <div class="card" id="headingsCard">
          <button id="headingsToggle" class="card-header toggle-button" type="button" aria-expanded="false">
            <span class="label">Headings</span>
            <span class="toggle-indicator" aria-hidden="true">â–¼</span>
          </button>
          <div id="headingsSummary" class="heading-summary"></div>
          <div id="headingsDetail" class="heading-detail" hidden>
            <ul id="headings" class="list"></ul>
          </div>
        </div>
      </section>
      <section id="analyticsPanel" class="results tab-panel" data-panel="analytics" hidden role="tabpanel" aria-labelledby="analytics-tab">
        <div class="card" id="gaCard" data-accent="true">
          <div class="card-header">
            <span class="label">Analytics</span>
          </div>
          <p id="gaStatus" class="value">Pending scan...</p>
        </div>
        <div class="card" id="eventsCard" data-accent="true">
          <div class="card-header">
            <span class="label">Event activity</span>
          </div>
          <div class="event-groups">
            <div id="googleAdsEventsSection">
              <h3>Google Ads</h3>
              <ul id="googleAdsEvents" class="list"></ul>
            </div>
            <div id="ga4EventsSection">
              <h3>GA4</h3>
              <ul id="ga4Events" class="list"></ul>
            </div>
            <div id="metaEventsSection">
              <h3>Meta Pixel</h3>
              <ul id="metaEvents" class="list"></ul>
            </div>
          </div>
        </div>
      </section>
      <section
        id="openGraphPanel"
        class="results tab-panel"
        data-panel="opengraph"
        hidden
        role="tabpanel"
        aria-labelledby="opengraph-tab"
      >
        <div class="card" id="ogTitleCard" data-accent="true">
          <div class="card-header">
            <span class="label">Open Graph title</span>
          </div>
          <p id="ogTitle" class="value">N/A</p>
        </div>
        <div class="card" id="ogDescriptionCard" data-accent="true">
          <div class="card-header">
            <span class="label">Open Graph description</span>
          </div>
          <p id="ogDescription" class="value">N/A</p>
        </div>
      </section>
      <section
        id="cmsPanel"
        class="results tab-panel"
        data-panel="cms"
        hidden
        role="tabpanel"
        aria-labelledby="cms-tab"
      >
        <div class="card" id="cmsCard" data-accent="true">
          <div class="card-header">
            <span class="label">Detected CMS</span>
          </div>
          <p id="cmsStatus" class="value">Scanning...</p>
        </div>
      </section>
    </main>

    <script type="module" src="popup.js"></script>
  </body>
</html>
